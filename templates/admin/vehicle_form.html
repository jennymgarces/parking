{% extends "base_template.html" %}

{% block title %}
    {% if form.placa.data %}
        {{ form.placa.data }}
    {% else %}
        Nueva entrada
    {% endif %}
{% endblock %}

{% block content %}
    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        <div>
            {{ form.typeVehicle.label }}
            {{ form.typeVehicle }}
            {% for error in form.typeVehicle.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.cc.label }}
            {{ form.cc(size=10) }}<br>
            {% for error in form.cc.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.foto.label }}
            {{ form.foto }}<br>
            {% for error in form.foto.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.placa.label }}
            {{ form.placa(size=10) }}<br>
            {% for error in form.placa.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.capacity.label }}
            {{ form.capacity }}<br>
            {% for error in form.capacity.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.times.label }}
            {{ form.times }}<br>
            {% for error in form.times.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.model.label }}
            {{ form.model }}<br>
            {% for error in form.model.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.door.label }}
            {{ form.door }}<br>
            {% for error in form.door.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>

        <div>
            {{ form.submit() }}
        </div>
    </form>
    <script>
        let typeVehicle = document.getElementById('typeVehicle');
        let placa = document.getElementById('placa');
        let foto = document.getElementById('foto');
        let capacity = document.getElementById('capacity');
        let times = document.getElementById('times');
        let model =document.getElementById('model');
        let door = document.getElementById('door');
        capacity.disabled = true;
        times.disabled = true;
        model.disabled = true;
        door.disabled = true;
        

        typeVehicle.onchange = function(){
            capacity.disabled = true;
            times.disabled = true;
            model.disabled = true;
            door.disabled = true;
            if(typeVehicle.value == "carro"){
                model.disabled = false;
                door.disabled = false;
            }else if(typeVehicle.value == "moto"){
                capacity.disabled = false;
                times.disabled = false;

            }
            
            
        }
    </script>
{% endblock %}